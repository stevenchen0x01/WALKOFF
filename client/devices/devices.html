<div id="main">
    <h1> Device Management </h1>

    <div class="row">
        <div class="col-xs-2">
            <button (click)="addDevice()" class="btn btn-primary"><span class="fa fa-plus"></span>Add Device</button>
        </div>
        <div class="col-xs-5">
            <select2 [data]="availableApps" [options]="appSelectConfig" (valueChanged)="appSelectChange($event)"></select2>
        </div>
        <div class="col-xs-5">
            <div class="form-group row">
                <label class="col-xs-2 col-form-label">Search Filter</label>
                <div class="col-xs-10">
                    <input class="form-control" [formControl]="filterQuery"/>
                </div>
            </div>
        </div>
    </div>

    <ngx-datatable #deviceTable class='material expandable' [columnMode]="'flex'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="50"
        [rows]='displayDevices' [sortType]="'multi'" [sorts]="[{prop: 'name', dir: 'asc'}]" [limit]="10">
        <!-- Column Templates -->
        <ngx-datatable-column name="Name" [flexGrow]="3">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.name}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="App" [flexGrow]="3">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.app}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="IP Address" [flexGrow]="2">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.ip}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Port" [flexGrow]="1">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.port}}
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Actions" [resizeable]="false" [sortable]="false" [draggable]="false" [flexGrow]="2">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <button (click)="editDevice(row)" class="btn btn-primary"><span class="fa fa-edit"></span>Edit Device</button>
                <button (click)="deleteDevice(row)" class="btn btn-danger"><span class="fa fa-times"></span>Delete Device</button>
            </ng-template>
        </ngx-datatable-column>
    </ngx-datatable>
</div>